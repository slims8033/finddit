{"version":3,"sources":["redditapi.js","index.js"],"names":["search","searchterm","searchLimit","sortby","fetch","then","res","json","data","children","map","ele","searchForm","document","getElementById","searchInput","addEventListener","e","value","console","log","querySelector","showMessage","reddit","searchresults","output","forEach","post","imageurl","preview","images","source","url","title","truncate","selftext","subreddit","score","innerHTML","preventDefault","text","limit","end","indexOf","substring","message","classname","div","createElement","className","append","createTextNode","searchArea","before","setTimeout","remove"],"mappings":"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","file":"finddit.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export default {\r\n    search:function(searchterm,searchLimit,sortby){\r\n        return fetch(`https://www.reddit.com/search.json?q=${searchterm}\r\n        &sort=${sortby}&limit=${searchLimit}`)\r\n        .then(res=>res.json())\r\n        .then(data=>data.data.children.map(ele=>ele.data));\r\n        \r\n\r\n        //console.log(fetchresponse);\r\n    }\r\n};\r\n\r\n//export default executeSearch;","import reddit from \"./redditapi\";\r\nconst searchForm=document.getElementById(\"search-form\");\r\nconst searchInput=document.getElementById(\"search-input\");\r\n\r\n// adding an event listener on searchform \r\nsearchForm.addEventListener(\"submit\",(e) =>{\r\n   // console.log(searchInput);\r\n    const searchterm=searchInput.value;\r\n    console.log(searchterm); \r\n    const sortby=document.querySelector('input[name=\"sortby\"]:checked').value;\r\n    console.log(sortby);\r\n    const searchLimit=document.getElementById(\"limit\").value;\r\n    console.log(searchLimit);\r\n    // handle case when search input field is empty \r\n    if(searchterm===\"\"){\r\n        // alert danger is the css class to be applied to the alert element created\r\n        showMessage(\"Please add a search Term\",\"alert-danger\")\r\n    }\r\n\r\n    //clear input after something has been searched for \r\n    \r\n   searchInput.value=\"\";\r\n    reddit.search(searchterm,searchLimit,sortby)\r\n    .then((searchresults)=>{\r\n        console.log(searchresults);\r\n        let output='<div class=\"card-columns\">';\r\n        searchresults.forEach((post)=>{\r\n            let imageurl=post.preview?post.preview.images[0].source.url:\r\n            \"https://www.modernretail.co/wp-content/uploads/sites/5/2021/04/Reddit-Logo.jpeg\"\r\n            output+=`<div class=\"card\">\r\n            <img class=\"card-img-top\" src=\"${imageurl}\" alt=\"Card image cap\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">${post.title}</h5>\r\n              <p class=\"card-text\">${truncate(post.selftext,100)}</p>\r\n              <a href=\"${post.url}\"  target=\"_blank\" class=\"btn btn-primary\">Read More </a>\r\n              <hr>\r\n              <span class=\"badge badge-secondary\"> Subreddit: ${post.subreddit}</span>\r\n              <span class=\"badge badge-dark\"> Score: ${post.score}</span>\r\n            </div>\r\n          </div>`;\r\n        })\r\n\r\n        output+='</div>'\r\n        document.getElementById('results').innerHTML=output;\r\n    })//.then(res=> console.log(res)); //*/\r\n   // console.log(res);\r\n    \r\n\r\n    e.preventDefault();\r\n});\r\nfunction truncate(text,limit){\r\n    const end=text.indexOf(\" \",limit);\r\n    if(end==-1) return text;\r\n    return text.substring(0,end);\r\n}\r\n\r\nfunction showMessage(message,classname){\r\n    //create a new element \r\n    const div= document.createElement('div');\r\n    //apply required class\r\n    div.className=`alert ${classname}`;\r\n    // append another element Textnode and add message to it \r\n    div.append(document.createTextNode(message));\r\n    // show this element before search area when search field is empty \r\n    const searchArea=document.getElementById(\"search\");\r\n    searchArea.before(div);\r\n    // remove alert message div after 2s \r\n    setTimeout(() => div.remove(), 2000);\r\n\r\n    //console.log(div);\r\n}"]}